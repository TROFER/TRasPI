import gfxhat #Enables use of the captive buttons
import sleep #Put sleeps between interactions to avoid miss presses

{ FUNCTION 3 #Decides which script to run
if selection == 1 then
  call PROGRAMS

else if selection == 2 then
  call SETTINGS

else if selection == 3 then
  call SHUTDOWN
}

{   FUNCTION 2 #Decides if the menu option is valid
  get menu range
  minimum_value = 1

  if selection is greater than menu range then
    return False
    BREAK FUNCTION

  else if selection is less than minimum_value then
  return False
  BREAK FUNCTION
}




{ FUNCTION 1 #Decides what happens at event BUTTON PRESS

if key pressed = 0 then
  selection +=1
  call FUNCTION 0

else if key pressed = 2 then
  selection +=1
  call FUNCTION 0

else if key pressed = 4 then
  call FUNCTION 2 pass selection
  if FUNCTION 2 returns True then
    call FUNCTION 3 pass selection

  else if FUNCTION 2 returns False then
    call FUNCTION 0
    BREAK FUNCTION

}


{ FUNCTION 0 #Event loop BUTTON PRESS
Repeat until keypress
  if button pressed then
    call FUNCTION 1 pass key pressed
}


{ __main__ #Main beginning function
call FUNCTION 0
}
